{"version":3,"file":"js/788.6fea97a6.js","mappings":"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","sources":["webpack://frontend/./src/views/eShop.vue","webpack://frontend/./src/views/eShop.vue?7817"],"sourcesContent":["<template>\r\n  <div class=\"container py-4\">\r\n    <!-- Header -->\r\n    <div class=\"d-flex justify-content-between align-items-center mb-4\">\r\n      <div>\r\n        <h1 class=\"fw-bold mb-0 text-danger\">{{ $t('eshop.heading') }}</h1>\r\n        <small class=\"text-muted\">{{ $t('eshop.subhead') }}</small>\r\n      </div>\r\n      <div>\r\n        <router-link to=\"/cart\" class=\"btn btn-outline-dark\" aria-label=\"View cart\">\r\n          ðŸ›’ {{ $t('eshop.cart') }}\r\n          <span v-if=\"cart.length\" class=\"badge bg-danger ms-2\">{{ cart.length }}</span>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row mb-3 gx-3 gy-3\">\r\n      <!-- Filters -->\r\n      <aside class=\"col-md-3\">\r\n        <div class=\"card p-3 shadow-sm border-0\">\r\n          <label class=\"form-label fw-semibold\">{{ $t('eshop.category') }}</label>\r\n          <select v-model=\"category\" @change=\"loadProducts\" class=\"form-select mb-3\" aria-label=\"Filter by category\">\r\n            <option value=\"\">All</option>\r\n            <option v-for=\"c in categories\" :key=\"c\">{{ c }}</option>\r\n          </select>\r\n\r\n          <label class=\"form-label fw-semibold\">{{ $t('eshop.search') }}</label>\r\n          <div class=\"input-group mb-3\">\r\n            <input v-model=\"q\" @keyup.enter=\"loadProducts\" placeholder=\"Search items...\" class=\"form-control\" />\r\n            <button class=\"btn btn-danger\" @click=\"loadProducts\" :disabled=\"loading\">{{ $t('eshop.go') }}</button>\r\n          </div>\r\n\r\n          <div class=\"text-end\">\r\n            <button class=\"btn btn-link text-secondary p-0\" @click=\"resetFilters\">{{ $t('eshop.reset') }}</button>\r\n          </div>\r\n        </div>\r\n      </aside>\r\n\r\n      <!-- Product Grid -->\r\n      <section class=\"col-md-9\">\r\n        <div v-if=\"loading\" class=\"text-center py-5\" aria-busy=\"true\">\r\n          <div class=\"spinner-border text-danger\" role=\"status\" aria-hidden=\"true\"></div>\r\n          <p class=\"mt-3\">Loading products...</p>\r\n        </div>\r\n\r\n        <div v-else class=\"row g-3\">\r\n          <template v-if=\"products.length\">\r\n            <div v-for=\"p in products\" :key=\"p.id\" class=\"col-sm-6 col-md-4\">\r\n              <article class=\"card shop-card h-100 border-0\" :aria-labelledby=\"'title-'+p.id\">\r\n                <img\r\n                  v-if=\"p.image\"\r\n                  :src=\"imageUrl(p.image)\"\r\n                  class=\"shop-img\"\r\n                  :alt=\"p.name\"\r\n                  loading=\"lazy\"\r\n                />\r\n                <div v-else class=\"shop-img bg-light d-flex align-items-center justify-content-center\">\r\n                  <small class=\"text-muted\">No image</small>\r\n                </div>\r\n\r\n                <div class=\"card-body d-flex flex-column\">\r\n                  <h5 :id=\"'title-'+p.id\" class=\"card-title\">{{ p.name }}</h5>\r\n\r\n                  <p class=\"card-text text-muted small text-truncate\">{{ p.description }}</p>\r\n\r\n                  <div class=\"d-flex justify-content-between align-items-center mt-auto\">\r\n                    <div>\r\n                      <span class=\"price-badge\">â‚¦{{ formatPrice(p.price) }}</span>\r\n                      <div class=\"small text-muted mt-1\" v-if=\"p.stock_quantity !== undefined\">\r\n                        <span v-if=\"p.stock_quantity > 0\">{{ p.stock_quantity }} in stock</span>\r\n                        <span v-else class=\"text-danger\">Out of stock</span>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"btn-group\" role=\"group\" aria-label=\"Product actions\">\r\n                      <router-link\r\n                        :to=\"{ name: 'ProductDetail', params: { id: p.id } }\"\r\n                        class=\"btn btn-sm btn-outline-primary\"\r\n                      >\r\n                        {{ $t('buttons.view') }}\r\n                      </router-link>\r\n\r\n                      <button\r\n                        v-if=\"!inCart(p.id)\"\r\n                        class=\"btn btn-sm btn-danger\"\r\n                        @click=\"addToCart(p)\"\r\n                        :disabled=\"p.stock_quantity <= 0\"\r\n                      >\r\n                        {{ $t('buttons.add_to_cart') }}\r\n                      </button>\r\n\r\n                      <div v-else class=\"input-group input-group-sm w-auto\">\r\n                        <button class=\"btn btn-outline-danger\" @click=\"decrementCart(p)\">-</button>\r\n                        <input\r\n                          type=\"text\"\r\n                          readonly\r\n                          class=\"form-control text-center\"\r\n                          style=\"max-width: 40px\"\r\n                          :value=\"getCartQuantity(p.id)\"\r\n                        />\r\n                        <button class=\"btn btn-outline-success\" @click=\"incrementCart(p)\">+</button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </article>\r\n            </div>\r\n          </template>\r\n\r\n          <div v-else class=\"col-12 text-center py-5\">\r\n            <p class=\"text-muted\">No items found for this selection.</p>\r\n            <button class=\"btn btn-outline-secondary\" @click=\"resetFilters\">Clear filters</button>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Pagination -->\r\n        <nav v-if=\"pageCount > 1\" class=\"mt-4\" aria-label=\"Product pagination\">\r\n          <ul class=\"pagination justify-content-center\">\r\n            <li class=\"page-item\" :class=\"{ disabled: page === 1 }\">\r\n              <a class=\"page-link\" @click.prevent=\"changePage(page - 1)\">Prev</a>\r\n            </li>\r\n\r\n            <li v-for=\"n in pageCount\" :key=\"n\" class=\"page-item\" :class=\"{ active: page === n }\">\r\n              <a class=\"page-link\" @click.prevent=\"changePage(n)\">{{ n }}</a>\r\n            </li>\r\n\r\n            <li class=\"page-item\" :class=\"{ disabled: page === pageCount }\">\r\n              <a class=\"page-link\" @click.prevent=\"changePage(page + 1)\">Next</a>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </section>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"eShop\",\r\n  data() {\r\n    return {\r\n      products: [],\r\n      categories: [],\r\n      loading: false,\r\n      q: \"\",\r\n      category: \"\",\r\n      page: 1,\r\n      pageCount: 1,\r\n      cart: JSON.parse(localStorage.getItem(\"kpfa_cart\")) || [],\r\n    };\r\n  },\r\n  methods: {\r\n    async loadProducts() {\r\n      this.loading = true;\r\n      try {\r\n        const params = { search: this.q, category: this.category, page: this.page };\r\n        const res = await axios.get(\"http://127.0.0.1:8000/api/shop/\", { params });\r\n        const data = res.data.results ?? res.data;\r\n        this.products = Array.isArray(data) ? data : [];\r\n        this.pageCount = res.data.page_count ?? res.data.total_pages ?? 1;\r\n        this.categories = [...new Set(this.products.map((p) => p.category).filter(Boolean))];\r\n        document.title = \"KPFA Shop â€” Official Merchandise\";\r\n      } catch (err) {\r\n        console.error(\"Error loading products:\", err);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    resetFilters() {\r\n      this.q = \"\";\r\n      this.category = \"\";\r\n      this.loadProducts();\r\n    },\r\n    changePage(n) {\r\n      if (n < 1) n = 1;\r\n      this.page = n;\r\n      this.loadProducts();\r\n    },\r\n    imageUrl(src) {\r\n      if (!src) return \"\";\r\n      if (src.startsWith(\"http://\") || src.startsWith(\"https://\")) return src;\r\n      if (src.startsWith(\"/\")) return window.location.origin + src;\r\n      return window.location.origin + \"/\" + src;\r\n    },\r\n    formatPrice(val) {\r\n      try {\r\n        return Number(val).toFixed(2);\r\n      } catch {\r\n        return val;\r\n      }\r\n    },\r\n\r\n    // ðŸ›’ CART LOGIC\r\n    saveCart() {\r\n      localStorage.setItem(\"kpfa_cart\", JSON.stringify(this.cart));\r\n    },\r\n    inCart(id) {\r\n      return this.cart.some((item) => item.id === id);\r\n    },\r\n    getCartQuantity(id) {\r\n      const item = this.cart.find((i) => i.id === id);\r\n      return item ? item.qty : 0;\r\n    },\r\n    addToCart(p) {\r\n      const existing = this.cart.find((i) => i.id === p.id);\r\n      if (existing) {\r\n        existing.qty++;\r\n      } else {\r\n        this.cart.push({ id: p.id, name: p.name, price: p.price, qty: 1, image: p.image });\r\n      }\r\n      this.saveCart();\r\n    },\r\n    incrementCart(p) {\r\n      const item = this.cart.find((i) => i.id === p.id);\r\n      if (item) {\r\n        item.qty++;\r\n        this.saveCart();\r\n      }\r\n    },\r\n    decrementCart(p) {\r\n      const item = this.cart.find((i) => i.id === p.id);\r\n      if (item) {\r\n        item.qty--;\r\n        if (item.qty <= 0) {\r\n          this.cart = this.cart.filter((i) => i.id !== p.id);\r\n        }\r\n        this.saveCart();\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.loadProducts();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import \"../assets/shop.css\";\r\n</style>\r\n","import { render } from \"./eShop.vue?vue&type=template&id=6f11fd81&scoped=true\"\nimport script from \"./eShop.vue?vue&type=script&lang=js\"\nexport * from \"./eShop.vue?vue&type=script&lang=js\"\n\nimport \"./eShop.vue?vue&type=style&index=0&id=6f11fd81&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6f11fd81\"]])\n\nexport default __exports__"],"names":["class","role","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","_ctx","$t","_hoisted_4","_createVNode","_component_router_link","to","$data","cart","length","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","category","$event","onChange","_cache","args","$options","loadProducts","value","_Fragment","_renderList","categories","c","key","_hoisted_10","_hoisted_11","q","onKeyup","_withKeys","placeholder","onClick","disabled","loading","_hoisted_12","_hoisted_13","resetFilters","_hoisted_14","_hoisted_15","_hoisted_16","products","p","id","image","src","imageUrl","alt","name","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","description","_hoisted_23","_hoisted_24","formatPrice","price","undefined","stock_quantity","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","params","inCart","_hoisted_30","decrementCart","_hoisted_31","type","readonly","style","getCartQuantity","incrementCart","_hoisted_33","addToCart","_hoisted_29","_hoisted_34","pageCount","_hoisted_35","_hoisted_36","_normalizeClass","page","_withModifiers","changePage","n","active","_hoisted_37","data","JSON","parse","localStorage","getItem","methods","this","search","res","axios","get","results","Array","isArray","page_count","total_pages","Set","map","filter","Boolean","document","title","err","console","error","startsWith","window","location","origin","val","Number","toFixed","saveCart","setItem","stringify","some","item","find","i","qty","existing","push","mounted","__exports__","render"],"sourceRoot":""}