"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[318],{6318:function(e,t,a){a.r(t),a.d(t,{default:function(){return F}});var s=a(6768),r=a(4232);const l={class:"matches-page py-5"},n={class:"container"},o={class:"text-center mb-4 fw-bold text-uppercase text-danger",style:{color:"#b30000"}},c={key:0,class:"text-center py-5"},m={key:1,class:"alert alert-danger text-center"},i={key:2,class:"row gy-4"},d=["onClick"],u={class:"card-body d-flex flex-column flex-md-row justify-content-center align-items-center text-center"},h={class:"team-info text-center"},_={class:"fw-bold small mb-1 text-green ellipsis"},k=["src","alt"],g={class:"center-block d-flex flex-column align-items-center mx-5"},f={class:"score-badge mt-2"},p={class:"score-text"},v={class:"team-info text-center"},y={class:"fw-bold small mb-1 text-green ellipsis"},x=["src","alt"],L={class:"match-meta d-flex flex-column flex-md-row justify-content-between align-items-center px-3 pb-3 pt-2 small text-green"},w={class:"text-center text-md-start w-100 w-md-auto"},b={class:"text-center w-100 w-md-auto mt-2 mt-md-0"},D={class:"text-center text-md-end w-100 w-md-auto mt-2 mt-md-0"},A={class:"badge bg-light text-success"};function C(e,t,a,C,$,T){return(0,s.uX)(),(0,s.CE)("div",l,[(0,s.Lk)("div",n,[(0,s.Lk)("h2",o,(0,r.v_)(e.$t("matches.upcoming_fixtures")),1),$.loading?((0,s.uX)(),(0,s.CE)("div",c,[...t[0]||(t[0]=[(0,s.Lk)("div",{class:"spinner-border text-danger",role:"status","aria-hidden":"true"},null,-1)])])):$.error?((0,s.uX)(),(0,s.CE)("div",m,(0,r.v_)($.error),1)):((0,s.uX)(),(0,s.CE)("div",i,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)($.matches,a=>((0,s.uX)(),(0,s.CE)("div",{key:a.id,class:"col-12"},[(0,s.Lk)("div",{class:"card match-card shadow-sm border-0 rounded-3",role:"button",onClick:e=>T.goToDetail(a.id),tabindex:"0"},[(0,s.Lk)("div",u,[(0,s.Lk)("div",h,[(0,s.Lk)("h5",_,(0,r.v_)(a.home_team?.name),1),(0,s.Lk)("img",{src:T.teamLogo(a.home_team),alt:a.home_team?.name||"Home Team Logo",class:"team-logo mt-2 mx-auto"},null,8,k)]),(0,s.Lk)("div",g,[t[1]||(t[1]=(0,s.Lk)("div",{class:"vs-circle"},"VS",-1)),(0,s.Lk)("div",f,[(0,s.Lk)("span",p,(0,r.v_)(T.displayScore(a)),1)])]),(0,s.Lk)("div",v,[(0,s.Lk)("h5",y,(0,r.v_)(a.away_team?.name),1),(0,s.Lk)("img",{src:T.teamLogo(a.away_team),alt:a.away_team?.name||"Away Team Logo",class:"team-logo mt-2 mx-auto"},null,8,x)])]),(0,s.Lk)("div",L,[(0,s.Lk)("div",w,[(0,s.Lk)("div",null,[(0,s.Lk)("strong",null,(0,r.v_)(e.$t("matches.date"))+":",1),(0,s.eW)(" "+(0,r.v_)(T.formatDate(a.match_date||a.date)),1)]),(0,s.Lk)("div",null,[(0,s.Lk)("strong",null,(0,r.v_)(e.$t("matches.time"))+":",1),(0,s.eW)(" "+(0,r.v_)(a.match_time||a.time||"TBD"),1)])]),(0,s.Lk)("div",b,[(0,s.Lk)("div",null,[(0,s.Lk)("strong",null,(0,r.v_)(e.$t("matches.location"))+":",1),(0,s.eW)(" "+(0,r.v_)(a.location||"TBA"),1)])]),(0,s.Lk)("div",D,[(0,s.Lk)("span",A,(0,r.v_)(T.kpfaBadgeText(a)),1)])])],8,d)]))),128))]))])])}a(4114);var $=a(4373),T={name:"Matches",data(){return{matches:[],loading:!0,error:null}},methods:{async fetchMatches(){try{const e=await $.A.get("http://127.0.0.1:8000/api/matches/");this.matches=Array.isArray(e.data)?e.data:e.data.results||[],this.matches.sort((e,t)=>new Date(t.date)-new Date(e.date))}catch(e){console.error("Error fetching matches:",e),this.error="Failed to load matches. Please try again later."}finally{this.loading=!1}},goToDetail(e){e&&this.$router.push({name:"MatchDetail",params:{id:e}})},formatDate(e){if(!e)return"Date not set";try{const t={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString(void 0,t)}catch{return e}},teamLogo(e){return e&&(e.is_kpfa_team||e.is_kpfa||"KPFA"===e.team_type)?"images/kpfa_logo.jpg":"images/opponent_placeholder.jpg"},hasScore(e){return!!e&&("number"===typeof e.home_score||"number"===typeof e.away_score)},displayScore(e){const t=e.home_score,a=e.away_score;return null==t&&null==a?"-":`${t}-${a}`},kpfaBadgeText(e){if(!e)return"";const t=e.home_team?.is_kpfa_team||e.home_team?.is_kpfa,a=e.away_team?.is_kpfa_team||e.away_team?.is_kpfa;return t?`${e.home_team?.team_type||"KPFA"} (Home)`:a?`${e.away_team?.team_type||"KPFA"} (Away)`:"Neutral"}},mounted(){this.fetchMatches()}},E=a(1241);const X=(0,E.A)(T,[["render",C],["__scopeId","data-v-29343fe5"]]);var F=X}}]);
//# sourceMappingURL=318.88cb369d.js.map