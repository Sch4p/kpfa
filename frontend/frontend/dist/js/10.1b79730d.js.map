{"version":3,"file":"js/10.1b79730d.js","mappings":"4LAEOA,MAAM,kB,SACWA,MAAM,oB,aASnBA,MAAM,2B,GAYNA,MAAM,sB,GAEFA,MAAM,uB,GAiBRA,MAAM,iB,GAMRA,MAAM,oB,SAODA,MAAM,uC,0EAtDpBC,EAAAA,EAAAA,IAyDM,MAzDNC,EAyDM,CAxDOC,EAAAC,U,WAAXH,EAAAA,EAAAA,IAGM,MAHNI,EAGM,IAAAC,EAAA,KAAAA,EAAA,KAFJC,EAAAA,EAAAA,IAAgD,OAA3CP,MAAM,iBAAiBQ,KAAK,U,UACjCD,EAAAA,EAAAA,IAA4C,KAAzCP,MAAM,QAAO,4BAAwB,QAG1BG,EAAAM,Q,WAAhBR,EAAAA,EAAAA,IA8CM,MAAAS,EAAA,C,eA7CJH,EAAAA,EAAAA,IAA+C,MAA3CP,MAAM,oBAAmB,iBAAa,KAG1CO,EAAAA,EAAAA,IASM,MATNI,EASM,EARJJ,EAAAA,EAAAA,IAAiC,UAA7B,cAAUK,EAAAA,EAAAA,IAAGT,EAAAM,MAAMI,IAAE,IACzBN,EAAAA,EAAAA,IAA+E,U,aAA5EA,EAAAA,EAAAA,IAAsB,cAAd,SAAK,K,QAAS,KAACK,EAAAA,EAAAA,IAAA,IAAOE,KAAKX,EAAAM,MAAMM,YAAYC,kBAAc,MACtET,EAAAA,EAAAA,IAA+D,U,aAA5DA,EAAAA,EAAAA,IAA2B,cAAnB,cAAU,K,QAAS,KAACK,EAAAA,EAAAA,IAAGT,EAAAM,MAAMQ,WAAa,KAAJ,MACjDV,EAAAA,EAAAA,IAAuD,U,aAApDA,EAAAA,EAAAA,IAAuB,cAAf,UAAM,K,QAAS,KAACK,EAAAA,EAAAA,IAAGT,EAAAM,MAAMS,OAAS,KAAJ,MACzCX,EAAAA,EAAAA,IAAuD,U,aAApDA,EAAAA,EAAAA,IAAuB,cAAf,UAAM,K,QAAS,KAACK,EAAAA,EAAAA,IAAGT,EAAAM,MAAMU,OAAS,KAAJ,MACzCZ,EAAAA,EAAAA,IAAkE,U,aAA/DA,EAAAA,EAAAA,IAAgC,cAAxB,mBAAe,K,QAAS,KAACK,EAAAA,EAAAA,IAAGT,EAAAM,MAAMW,gBAAc,MAC3Db,EAAAA,EAAAA,IAAsE,U,aAAnEA,EAAAA,EAAAA,IAAkC,cAA1B,qBAAiB,K,QAAS,KAACK,EAAAA,EAAAA,IAAGT,EAAAM,MAAMY,kBAAgB,MAC/Dd,EAAAA,EAAAA,IAAuD,U,aAApDA,EAAAA,EAAAA,IAAuB,cAAf,UAAM,K,QAAS,KAACK,EAAAA,EAAAA,IAAGT,EAAAM,MAAMa,OAAS,KAAJ,QAI3Cf,EAAAA,EAAAA,IAsBM,MAtBNgB,EAsBM,C,aArBJhB,EAAAA,EAAAA,IAA2B,MAAvBP,MAAM,QAAO,SAAK,KACtBO,EAAAA,EAAAA,IAeQ,QAfRiB,EAeQ,C,aAdNjB,EAAAA,EAAAA,IAMQ,eALNA,EAAAA,EAAAA,IAIK,YAHHA,EAAAA,EAAAA,IAAgB,UAAZ,YACJA,EAAAA,EAAAA,IAAiB,UAAb,aACJA,EAAAA,EAAAA,IAAqB,UAAjB,oB,KAGRA,EAAAA,EAAAA,IAMQ,gB,aALNN,EAAAA,EAAAA,IAIKwB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJcvB,EAAAM,MAAMkB,YAAdC,K,WAAX3B,EAAAA,EAAAA,IAIK,MAJkC4B,IAAKD,EAAKf,I,EAC/CN,EAAAA,EAAAA,IAA6B,WAAAK,EAAAA,EAAAA,IAAtBgB,EAAKE,WAAS,IACrBvB,EAAAA,EAAAA,IAA4B,WAAAK,EAAAA,EAAAA,IAArBgB,EAAKG,UAAQ,IACpBxB,EAAAA,EAAAA,IAA6C,WAAAK,EAAAA,EAAAA,IAAtCgB,EAAKI,SAAShB,kBAAc,O,WAKzCT,EAAAA,EAAAA,IAEM,MAFN0B,EAEM,EADJ1B,EAAAA,EAAAA,IAA0D,UAAtD,YAAQK,EAAAA,EAAAA,IAAGT,EAAAM,MAAMyB,aAAalB,kBAAc,QAKpDT,EAAAA,EAAAA,IAIM,MAJN4B,EAIM,EAHJC,EAAAA,EAAAA,IAEcC,EAAA,CAFDC,GAAG,IAAItC,MAAM,wB,kBAAuB,IAEjD,IAAAM,EAAA,MAAAA,EAAA,M,QAFiD,kBAEjD,O,wBAIJL,EAAAA,EAAAA,IAEM,MAFNsC,EAAwD,qC,uBAS5D,GACEC,KAAM,eACNC,MAAO,CAAC,MACRC,IAAAA,GACE,MAAO,CACLjC,MAAO,KACPL,SAAS,EAEb,EACA,aAAMuC,GACJ,MAAMC,EAAQC,aAAaC,QAAQ,SAEnC,IAAKF,EAGH,OAFAG,QAAQC,MAAM,iEACdC,KAAKC,QAAQC,KAAK,aAIpB,IACE,MAAMC,QAAYC,EAAAA,EAAMC,IAAI,oCAAoCL,KAAKpC,MAAO,CAC1E0C,QAAS,CACP,eAAgB,mBAChBC,cAAe,SAASZ,OAI5BG,QAAQU,IAAI,2BAA4BL,EAAIV,MAC5CO,KAAKxC,MAAQ2C,EAAIV,IACnB,CAAE,MAAOgB,GACPX,QAAQC,MAAM,wBAAyBU,EAAIC,SAAWD,EAAIC,SAASjB,KAAOgB,GACtEA,EAAIC,UAAoC,MAAxBD,EAAIC,SAASC,SAC/BC,MAAM,kDACNZ,KAAKC,QAAQC,KAAK,aAEtB,CAAE,QACAF,KAAK7C,SAAU,CACjB,CACF,G,UCjGF,MAAM0D,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://frontend/./src/views/OrderSummary.vue","webpack://frontend/./src/views/OrderSummary.vue?267f"],"sourcesContent":["<!-- src/views/OrderSummary.vue -->\r\n<template>\r\n  <div class=\"container my-5\">\r\n    <div v-if=\"loading\" class=\"text-center py-5\">\r\n      <div class=\"spinner-border\" role=\"status\"></div>\r\n      <p class=\"mt-3\">Loading order summary...</p>\r\n    </div>\r\n\r\n    <div v-else-if=\"order\">\r\n      <h2 class=\"mb-4 text-center\">Order Summary</h2>\r\n\r\n      <!-- Customer Info -->\r\n      <div class=\"card shadow-sm p-4 mb-4\">\r\n        <h5>Order ID: {{ order.id }}</h5>\r\n        <p><strong>Date:</strong> {{ new Date(order.created_at).toLocaleString() }}</p>\r\n        <p><strong>Full Name:</strong> {{ order.full_name || \"—\" }}</p>\r\n        <p><strong>Phone:</strong> {{ order.phone || \"—\" }}</p>\r\n        <p><strong>Email:</strong> {{ order.email || \"—\" }}</p>\r\n        <p><strong>Payment Method:</strong> {{ order.payment_method }}</p>\r\n        <p><strong>Shipping Address:</strong> {{ order.shipping_address }}</p>\r\n        <p><strong>Notes:</strong> {{ order.notes || \"—\" }}</p>\r\n      </div>\r\n\r\n      <!-- Ordered Items -->\r\n      <div class=\"card shadow-sm p-4\">\r\n        <h5 class=\"mb-3\">Items</h5>\r\n        <table class=\"table table-striped\">\r\n          <thead>\r\n            <tr>\r\n              <th>Product</th>\r\n              <th>Quantity</th>\r\n              <th>Subtotal (₦)</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"item in order.order_items\" :key=\"item.id\">\r\n              <td>{{ item.item_name }}</td>\r\n              <td>{{ item.quantity }}</td>\r\n              <td>{{ item.subtotal.toLocaleString() }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n        <div class=\"text-end mt-3\">\r\n          <h4>Total: ₦{{ order.total_amount.toLocaleString() }}</h4>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Back to Home -->\r\n      <div class=\"text-center mt-5\">\r\n        <router-link to=\"/\" class=\"btn btn-success px-4\">\r\n          Back to Home\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else class=\"alert alert-danger text-center mt-5\">\r\n      Failed to load order details.\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"OrderSummary\",\r\n  props: [\"id\"],\r\n  data() {\r\n    return {\r\n      order: null,\r\n      loading: true,\r\n    };\r\n  },\r\n  async mounted() {\r\n    const token = localStorage.getItem(\"token\"); // ✅ correct token key\r\n\r\n    if (!token) {\r\n      console.error(\"❌ No authentication token found. Redirecting to login...\");\r\n      this.$router.push(\"/fan-auth\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await axios.get(`http://127.0.0.1:8000/api/orders/${this.id}/`, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Token ${token}`,\r\n        },\r\n      });\r\n\r\n      console.log(\"✅ Order details fetched:\", res.data);\r\n      this.order = res.data;\r\n    } catch (err) {\r\n      console.error(\"❌ Order fetch failed:\", err.response ? err.response.data : err);\r\n      if (err.response && err.response.status === 401) {\r\n        alert(\"Your session has expired. Please log in again.\");\r\n        this.$router.push(\"/fan-auth\");\r\n      }\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./OrderSummary.vue?vue&type=template&id=0d4501e0\"\nimport script from \"./OrderSummary.vue?vue&type=script&lang=js\"\nexport * from \"./OrderSummary.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","$data","loading","_hoisted_2","_cache","_createElementVNode","role","order","_hoisted_3","_hoisted_4","_toDisplayString","id","Date","created_at","toLocaleString","full_name","phone","email","payment_method","shipping_address","notes","_hoisted_5","_hoisted_6","_Fragment","_renderList","order_items","item","key","item_name","quantity","subtotal","_hoisted_7","total_amount","_hoisted_8","_createVNode","_component_router_link","to","_hoisted_9","name","props","data","mounted","token","localStorage","getItem","console","error","this","$router","push","res","axios","get","headers","Authorization","log","err","response","status","alert","__exports__","render"],"sourceRoot":""}