{"version":3,"file":"js/514.e4ceea50.js","mappings":"6LACOA,MAAM,8B,GAKJA,MAAM,Q,SAMSA,MAAM,Q,SAKRA,MAAM,oB,0CAhB1BC,EAAAA,EAAAA,IAmBM,MAnBNC,EAmBM,C,aAlBJC,EAAAA,EAAAA,IAA6B,UAAzB,wBAAoB,I,aACxBA,EAAAA,EAAAA,IAAgC,SAA7B,6BAAyB,KAC5BA,EAAAA,EAAAA,IAAmE,U,qBAAhE,gCAA4B,KAAAA,EAAAA,EAAAA,IAAgC,eAAAC,EAAAA,EAAAA,IAArBC,EAAAC,WAAS,MAEnDH,EAAAA,EAAAA,IAIM,MAJNI,EAIM,EAHJJ,EAAAA,EAAAA,IAAkG,UAA1FH,MAAM,uBAAwBQ,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,gBAAgB,aAAY,qBACzET,EAAAA,EAAAA,IAAgG,UAAxFH,MAAM,sBAAuBQ,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,gBAAgB,YAAW,qBACvET,EAAAA,EAAAA,IAAoE,UAA5DH,MAAM,oBAAqBQ,QAAKC,EAAA,KAAAA,EAAA,OAAAI,IAAEF,EAAAG,QAAAH,EAAAG,UAAAD,KAAQ,eAGzCE,EAAAC,U,WAAXf,EAAAA,EAAAA,IAGM,MAHNgB,EAGM,IAAAR,EAAA,KAAAA,EAAA,KAFJN,EAAAA,EAAAA,IAA6D,OAAxDH,MAAM,8BAA8BkB,KAAK,U,UAC9Cf,EAAAA,EAAAA,IAA4B,SAAzB,yBAAqB,S,eAGfY,EAAAI,Q,WAAXlB,EAAAA,EAAAA,IAEM,MAFNmB,GAEMhB,EAAAA,EAAAA,IADDW,EAAAI,OAAK,K,+BAQd,GACEE,KAAM,cACNC,MAAO,CACLhB,UAAW,CAAEiB,KAAMC,OAAQC,UAAU,IAEvCC,IAAAA,GACE,MAAO,CACLV,SAAS,EACTG,MAAO,KAEX,EACAQ,QAAS,CACP,qBAAMf,CAAgBgB,GACxBC,KAAKb,SAAU,EACfa,KAAKV,MAAQ,KACb,IACE,MAAMW,QAAYC,EAAAA,EAAMC,KACtB,6DACA,CACE1B,UAAWuB,KAAKvB,UAChBsB,OAAQA,GAEV,CACEK,QAAS,CACP,eAAgB,sBAKlBH,EAAIJ,KAAKQ,aACXC,OAAOC,SAASC,KAAOP,EAAIJ,KAAKQ,aAEhCL,KAAKV,MAAQ,uCAEjB,CAAE,MAAOmB,GACPC,QAAQpB,MAAM,4BAA6BmB,GAC3CT,KAAKV,MAAQ,2BACf,CAAE,QACAU,KAAKb,SAAU,CACjB,CACF,EAEIF,MAAAA,GACEqB,OAAOC,SAASC,KAAO,GACzB,GAEFG,OAAAA,GACED,QAAQE,IAAI,+BAAgCZ,KAAKvB,UACnD,G,UCrEF,MAAMoC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://frontend/./src/views/MockPayment.vue","webpack://frontend/./src/views/MockPayment.vue?35ac"],"sourcesContent":["<template>\r\n  <div class=\"container py-5 text-center\">\r\n    <h3>Mock Payment Gateway</h3>\r\n    <p>Simulating Opay checkout.</p>\r\n    <p>Your transaction reference: <strong>{{ reference }}</strong></p>\r\n\r\n    <div class=\"mt-4\">\r\n      <button class=\"btn btn-success me-2\" @click=\"simulatePayment('SUCCESS')\">Simulate Success</button>\r\n      <button class=\"btn btn-danger me-2\" @click=\"simulatePayment('FAILED')\">Simulate Failure</button>\r\n      <button class=\"btn btn-secondary\" @click=\"goHome\">Back Home</button>\r\n    </div>\r\n\r\n    <div v-if=\"loading\" class=\"mt-3\">\r\n      <div class=\"spinner-border text-primary\" role=\"status\"></div>\r\n      <p>Processing payment...</p>\r\n    </div>\r\n\r\n    <div v-if=\"error\" class=\"mt-3 text-danger\">\r\n      {{ error }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"MockPayment\",\r\n  props: {\r\n    reference: { type: String, required: false } // pass transaction reference as prop\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      error: null\r\n    };\r\n  },\r\n  methods: {\r\n    async simulatePayment(status) {\r\n  this.loading = true;\r\n  this.error = null;\r\n  try {\r\n    const res = await axios.post(\r\n      \"http://127.0.0.1:8000/api/payments/candidate/mock-confirm/\",\r\n      {\r\n        reference: this.reference,\r\n        status: status\r\n      },\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        }\r\n      }\r\n    );\r\n\r\n    if (res.data.redirect_url) {\r\n      window.location.href = res.data.redirect_url;\r\n    } else {\r\n      this.error = \"No redirect URL returned from server.\";\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Error confirming payment:\", err);\r\n    this.error = \"Error confirming payment.\";\r\n  } finally {\r\n    this.loading = false;\r\n  }\r\n},\r\n\r\n    goHome() {\r\n      window.location.href = \"/\"; // or frontend home path\r\n    }\r\n  },\r\n  mounted() {\r\n    console.log(\"Mock payment reference prop:\", this.reference);\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./MockPayment.vue?vue&type=template&id=699dd076\"\nimport script from \"./MockPayment.vue?vue&type=script&lang=js\"\nexport * from \"./MockPayment.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","$props","reference","_hoisted_2","onClick","_cache","$event","$options","simulatePayment","args","goHome","$data","loading","_hoisted_3","role","error","_hoisted_4","name","props","type","String","required","data","methods","status","this","res","axios","post","headers","redirect_url","window","location","href","err","console","mounted","log","__exports__","render"],"sourceRoot":""}