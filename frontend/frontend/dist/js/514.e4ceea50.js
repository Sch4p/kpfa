"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[514],{9514:function(e,r,n){n.r(r),n.d(r,{default:function(){return k}});var t=n(6768),o=n(4232);const a={class:"container py-5 text-center"},s={class:"mt-4"},c={key:0,class:"mt-3"},i={key:1,class:"mt-3 text-danger"};function l(e,r,n,l,u,m){return(0,t.uX)(),(0,t.CE)("div",a,[r[5]||(r[5]=(0,t.Lk)("h3",null,"Mock Payment Gateway",-1)),r[6]||(r[6]=(0,t.Lk)("p",null,"Simulating Opay checkout.",-1)),(0,t.Lk)("p",null,[r[3]||(r[3]=(0,t.eW)("Your transaction reference: ",-1)),(0,t.Lk)("strong",null,(0,o.v_)(n.reference),1)]),(0,t.Lk)("div",s,[(0,t.Lk)("button",{class:"btn btn-success me-2",onClick:r[0]||(r[0]=e=>m.simulatePayment("SUCCESS"))},"Simulate Success"),(0,t.Lk)("button",{class:"btn btn-danger me-2",onClick:r[1]||(r[1]=e=>m.simulatePayment("FAILED"))},"Simulate Failure"),(0,t.Lk)("button",{class:"btn btn-secondary",onClick:r[2]||(r[2]=(...e)=>m.goHome&&m.goHome(...e))},"Back Home")]),u.loading?((0,t.uX)(),(0,t.CE)("div",c,[...r[4]||(r[4]=[(0,t.Lk)("div",{class:"spinner-border text-primary",role:"status"},null,-1),(0,t.Lk)("p",null,"Processing payment...",-1)])])):(0,t.Q3)("",!0),u.error?((0,t.uX)(),(0,t.CE)("div",i,(0,o.v_)(u.error),1)):(0,t.Q3)("",!0)])}var u=n(4373),m={name:"MockPayment",props:{reference:{type:String,required:!1}},data(){return{loading:!1,error:null}},methods:{async simulatePayment(e){this.loading=!0,this.error=null;try{const r=await u.A.post("http://127.0.0.1:8000/api/payments/candidate/mock-confirm/",{reference:this.reference,status:e},{headers:{"Content-Type":"application/json"}});r.data.redirect_url?window.location.href=r.data.redirect_url:this.error="No redirect URL returned from server."}catch(r){console.error("Error confirming payment:",r),this.error="Error confirming payment."}finally{this.loading=!1}},goHome(){window.location.href="/"}},mounted(){console.log("Mock payment reference prop:",this.reference)}},d=n(1241);const p=(0,d.A)(m,[["render",l]]);var k=p}}]);
//# sourceMappingURL=514.e4ceea50.js.map