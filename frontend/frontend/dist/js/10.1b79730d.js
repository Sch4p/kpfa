"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[10],{1010:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var n=r(6768),l=r(4232);const o={class:"container my-5"},a={key:0,class:"text-center py-5"},s={key:1},d={class:"card shadow-sm p-4 mb-4"},u={class:"card shadow-sm p-4"},i={class:"table table-striped"},c={class:"text-end mt-3"},k={class:"text-center mt-5"},p={key:2,class:"alert alert-danger text-center mt-5"};function L(e,t,r,L,h,m){const g=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",o,[h.loading?((0,n.uX)(),(0,n.CE)("div",a,[...t[0]||(t[0]=[(0,n.Lk)("div",{class:"spinner-border",role:"status"},null,-1),(0,n.Lk)("p",{class:"mt-3"},"Loading order summary...",-1)])])):h.order?((0,n.uX)(),(0,n.CE)("div",s,[t[11]||(t[11]=(0,n.Lk)("h2",{class:"mb-4 text-center"},"Order Summary",-1)),(0,n.Lk)("div",d,[(0,n.Lk)("h5",null,"Order ID: "+(0,l.v_)(h.order.id),1),(0,n.Lk)("p",null,[t[1]||(t[1]=(0,n.Lk)("strong",null,"Date:",-1)),(0,n.eW)(" "+(0,l.v_)(new Date(h.order.created_at).toLocaleString()),1)]),(0,n.Lk)("p",null,[t[2]||(t[2]=(0,n.Lk)("strong",null,"Full Name:",-1)),(0,n.eW)(" "+(0,l.v_)(h.order.full_name||"—"),1)]),(0,n.Lk)("p",null,[t[3]||(t[3]=(0,n.Lk)("strong",null,"Phone:",-1)),(0,n.eW)(" "+(0,l.v_)(h.order.phone||"—"),1)]),(0,n.Lk)("p",null,[t[4]||(t[4]=(0,n.Lk)("strong",null,"Email:",-1)),(0,n.eW)(" "+(0,l.v_)(h.order.email||"—"),1)]),(0,n.Lk)("p",null,[t[5]||(t[5]=(0,n.Lk)("strong",null,"Payment Method:",-1)),(0,n.eW)(" "+(0,l.v_)(h.order.payment_method),1)]),(0,n.Lk)("p",null,[t[6]||(t[6]=(0,n.Lk)("strong",null,"Shipping Address:",-1)),(0,n.eW)(" "+(0,l.v_)(h.order.shipping_address),1)]),(0,n.Lk)("p",null,[t[7]||(t[7]=(0,n.Lk)("strong",null,"Notes:",-1)),(0,n.eW)(" "+(0,l.v_)(h.order.notes||"—"),1)])]),(0,n.Lk)("div",u,[t[9]||(t[9]=(0,n.Lk)("h5",{class:"mb-3"},"Items",-1)),(0,n.Lk)("table",i,[t[8]||(t[8]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Product"),(0,n.Lk)("th",null,"Quantity"),(0,n.Lk)("th",null,"Subtotal (₦)")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(h.order.order_items,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,l.v_)(e.item_name),1),(0,n.Lk)("td",null,(0,l.v_)(e.quantity),1),(0,n.Lk)("td",null,(0,l.v_)(e.subtotal.toLocaleString()),1)]))),128))])]),(0,n.Lk)("div",c,[(0,n.Lk)("h4",null,"Total: ₦"+(0,l.v_)(h.order.total_amount.toLocaleString()),1)])]),(0,n.Lk)("div",k,[(0,n.bF)(g,{to:"/",class:"btn btn-success px-4"},{default:(0,n.k6)(()=>[...t[10]||(t[10]=[(0,n.eW)(" Back to Home ",-1)])]),_:1})])])):((0,n.uX)(),(0,n.CE)("div",p," Failed to load order details. "))])}r(4114);var h=r(4373),m={name:"OrderSummary",props:["id"],data(){return{order:null,loading:!0}},async mounted(){const e=localStorage.getItem("token");if(!e)return console.error("❌ No authentication token found. Redirecting to login..."),void this.$router.push("/fan-auth");try{const t=await h.A.get(`http://127.0.0.1:8000/api/orders/${this.id}/`,{headers:{"Content-Type":"application/json",Authorization:`Token ${e}`}});console.log("✅ Order details fetched:",t.data),this.order=t.data}catch(t){console.error("❌ Order fetch failed:",t.response?t.response.data:t),t.response&&401===t.response.status&&(alert("Your session has expired. Please log in again."),this.$router.push("/fan-auth"))}finally{this.loading=!1}}},g=r(1241);const v=(0,g.A)(m,[["render",L]]);var _=v}}]);
//# sourceMappingURL=10.1b79730d.js.map